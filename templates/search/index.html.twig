{% extends 'base.html.twig' %}

{% block body %}
    <h1 style="text-align: center; color: #333; margin-bottom: 20px;">Book Search</h1>

    <form method="get" action="{{ path('app_search') }}" style="text-align: center; margin-bottom: 30px;">
        <input 
            type="text" 
            name="query" 
            value="{{ query }}" 
            placeholder="Search for a book title..." 
            style="padding: 10px; width: 300px; border: 1px solid #ccc; border-radius: 5px;"
        />
        <button 
            type="submit" 
            style="padding: 10px 20px; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;"
        >
            Search
        </button>
    </form>

    {% if books is not empty %}
        <table style="width: 80%; margin: 0 auto; border-collapse: collapse;">
            <thead>
                <tr>
                    <th style="border-bottom: 2px solid #007bff; padding: 10px; text-align: left;">Title</th>
                    <th style="border-bottom: 2px solid #007bff; padding: 10px; text-align: left;">Summary</th>
                    <th style="border-bottom: 2px solid #007bff; padding: 10px; text-align: left;">Writer</th>
                </tr>
            </thead>
            <tbody>
                {% for book in books %}
                    <tr>
                        <td style="padding: 10px; border-bottom: 1px solid #ddd;">{{ book.title }}</td>
                        <td style="padding: 10px; border-bottom: 1px solid #ddd;">{{ book.summary }}</td>
                        <td style="padding: 10px; border-bottom: 1px solid #ddd;">{{ book.writer.name }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p style="text-align: center; color: #666; margin-top: 20px;">No results found for "{{ query }}".</p>
    {% endif %}
{% endblock %}
